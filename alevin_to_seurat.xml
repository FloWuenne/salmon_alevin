<tool id="alevin_to_seurat" name="Alevin to Seurat" version="0.1.0">
    <description> transforms an alevin matrix in rds format to a Seurat object</description>
    <stdio>
        <exit_code range="1:" />
    </stdio>
    <requirements>
        <requirement type="package" version="3.4.1">r-base</requirement>
        <requirement type="package" version="1.20.0">r-getopt</requirement>
	<requirement type="package" version="2.3.4">r-seurat</requirement>
    </requirements>
    <command><![CDATA[
        Rscript /cvmfs/soft.galaxy/v2.1/server/tools/single_cell_tools/salmon_alevin/convert_alevin_to_seurat.R --input $alevin_matrix_rds  --output $seurat_object
    ]]></command>
    <inputs>
        <param type="data" name="alevin_matrix_rds" format="rdata" label="Alevin sparse Matrix (.rds)" />
    </inputs>
    <outputs>
        <data name="seurat_object" format="rdata" />
    </outputs>
    <tests>
        <test>
            <param name="alevin_matrix_rds" value="/test_data/salmon_alevin_matrix.RDS"/>
            <output name="seurat_object" file="/test_data/alevin_seurat_object.rds"/>
        </test>
    </tests>
    <help><![CDATA[
        Reads in Alevin sparse Matrix in .rds format and creates a Seurat object from it.
    ]]></help>
</tool>
